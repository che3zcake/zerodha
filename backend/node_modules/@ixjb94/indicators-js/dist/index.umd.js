!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).indicators={})}(this,(function(t){"use strict";var e=function(t,e,s,n=t.length){const r=[],o=2/(s+1),i={size:s,index:0,pushes:0,vals:[]};let l=t[0]-e[0];for(let n=1;n<2*s-1;++n)l=(t[n]-e[n]-l)*o+l,i.vals[i.index]=l,i.index=i.index+1,i.index>=i.size&&(i.index=0);for(let u=2*s-1;u<n;++u){l=(t[u]-e[u]-l)*o+l;const s=i.vals[i.index];r.push(100*(l-s)/s),i.vals[i.index]=l,i.index=i.index+1,i.index>=i.size&&(i.index=0)}return r};var s=function(t,e,s,n,r=t.length){const o=[],i=[],l=[],u=1/n,h={size:n,index:0,pushes:0,sum:0,vals:[]},a={size:n,index:0,pushes:0,sum:0,vals:[]};let c=0;for(let r=0;r<n;++r){const n=4*(t[r]-e[r])/(t[r]+e[r]),o=(1+n)*t[r];h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=o,h.vals[h.index]=o,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0);const i=(1-n)*e[r];a.pushes>=a.size&&(a.sum-=a.vals[a.index]),a.sum+=i,a.vals[a.index]=i,a.pushes+=1,a.index=a.index+1,a.index>=a.size&&(a.index=0),c+=s[r]}o.push(h.sum*u),i.push(a.sum*u),l.push(c*u);for(let f=n;f<r;++f){const r=4*(t[f]-e[f])/(t[f]+e[f]),p=(1+r)*t[f];h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=p,h.vals[h.index]=p,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0);const d=(1-r)*e[f];a.pushes>=a.size&&(a.sum-=a.vals[a.index]),a.sum+=d,a.vals[a.index]=d,a.pushes+=1,a.index=a.index+1,a.index>=a.size&&(a.index=0),c+=s[f]-s[f-n],o.push(h.sum*u),i.push(a.sum*u),l.push(c*u)}return[o,i,l]};var n=function(t,e,s,n,r=s.length){const o=[];let i=0;for(let l=0;l<r;++l){const r=t[l]-e[l];0!=r&&(i+=(s[l]-e[l]-t[l]+s[l])/r*n[l]),o[l]=i}return o};var r=function(t,e,s,n,r,o,i=s.length){const l=o-1,u=2/(r+1),h=2/(o+1),a=[];let c=0,f=0,p=0;for(let r=0;r<i;++r){const o=t[r]-e[r];0!=o&&(c+=(s[r]-e[r]-t[r]+s[r])/o*n[r]),0==r?(f=c,p=c):(f=(c-f)*u+f,p=(c-p)*h+p),r>=l&&a.push(f-p)}return a};var o=function(t,e,s,n=t.length){const r=[],o=(s-1)/s,i=1/s;let l=0,u=0;for(let n=1;n<s;++n){let s=t[n]-t[n-1],r=e[n-1]-e[n];s<0?s=0:s>r&&(r=0),r<0?r=0:r>s&&(s=0),l+=s,u+=r}let h=0,a=l,c=u,f=Math.abs(a-c),p=a+c,d=f/p*100;h+=d;for(let v=s;v<n;++v){let n=t[v]-t[v-1],x=e[v-1]-e[v];n<0?n=0:n>x&&(x=0),x<0?x=0:x>n&&(n=0),l=l*o+n,u=u*o+x,a=l,c=u,f=Math.abs(a-c),p=a+c,d=f/p*100,v-s<s-2?h+=d:v-s==s-2?(h+=d,r.push(h*i)):(h=h*o+d,r.push(h*i))}return r};var i=function(t,e,s,n=t.length){const r=[],o=(s-1)/s,i=1/s;let l=0,u=0;for(let n=1;n<s;++n){let s=t[n]-t[n-1],r=e[n-1]-e[n];s<0?s=0:s>r&&(r=0),r<0?r=0:r>s&&(s=0),l+=s,u+=r}let h=0,a=l,c=u,f=Math.abs(a-c),p=a+c,d=f/p*100;h+=d;const v={size:s-1,pushes:0,index:0,vals:[]},x=3*(s-1);for(let m=s;m<n;++m){let n=t[m]-t[m-1],g=e[m-1]-e[m];if(n<0?n=0:n>g&&(g=0),g<0?g=0:g>n&&(n=0),l=l*o+n,u=u*o+g,a=l,c=u,f=Math.abs(a-c),p=a+c,d=f/p*100,m-s<s-2)h+=d;else if(m-s==s-2)h+=d,v.vals[v.index]=h*i,v.index=v.index+1,v.index>=v.size&&(v.index=0);else{if(h=h*o+d,m>=x){const t=v.vals[v.index]+(v.size-1+1)%v.size;r.push(.5*(h*i+t))}v.vals[v.index]=h*i,v.index=v.index+1,v.index>=v.size&&(v.index=0)}}return r};var l=function(t,e,s,n,r=t.length){const o=[],i=[],l=Math.floor(s*(e-1)),u=e/n;let h=0;for(let t=0;t<e;t++)i[t]=Math.exp(-1*Math.pow(t-l,2)/(2*Math.pow(u,2))),h+=i[t];for(let t=0;t<e;t++)i[t]/=h;for(let s=e-1;s<r;s++){let n=0;for(let r=0;r<e;r++)n+=t[s-e+r+1]*i[r];o.push(n)}return o};var u=function(t,e,s=t.length){const n=[];let r=0,o=0;const i=1/34;for(let s=0;s<34;++s){const n=.5*(t[s]+e[s]);r+=n,s>=29&&(o+=n)}n.push(.2*o-i*r);for(let l=34;l<s;++l){const s=.5*(t[l]+e[l]);r+=s,o+=s,r-=.5*(t[l-34]+e[l-34]),o-=.5*(t[l-5]+e[l-5]),n.push(.2*o-i*r)}return n};var h=function(t,e,s,n=t.length){const r=[],o=2/(e+1),i=2/(s+1);let l=t[0],u=t[0];for(let e=1;e<n;++e){l=(t[e]-l)*o+l,u=(t[e]-u)*i+u;const s=l-u;r.push(s)}return r};var a=function(t,e,s,n=t.length){const r=[],o=[],i=100/s;let l,u,h=0,a=-1,c=-1,f=t[0],p=e[0];for(let d=s;d<n;++d,++h){if(l=t[d],a<h)for(a=h,f=t[a],u=h;++u<=d;)l=t[u],l>=f&&(f=l,a=u);else l>=f&&(a=d,f=l);if(l=e[d],c<h)for(c=h,p=e[c],u=h;++u<=d;)l=e[u],l<=p&&(p=l,c=u);else l<=p&&(c=d,p=l);r[r.length]=(s-(d-c))*i,o[o.length]=(s-(d-a))*i}return[r,o]};var c=function(t,e,s,n=t.length){const r=[],o=100/s;let i,l=0,u=-1,h=-1,a=t[0],c=e[0];for(let f=s;f<n;++f,++l){let s=t[f];if(u<l)for(u=l,a=t[u],i=l;++i<=f;)s=t[i],s>=a&&(a=s,u=i);else s>=a&&(u=f,a=s);if(s=e[f],h<l)for(h=l,c=e[h],i=l;++i<=f;)s=e[i],s<=c&&(c=s,h=i);else s<=c&&(h=f,c=s);r.push((u-h)*o)}return r};var f=function(t,e,s,n,r=t.length){const o=[],i=1/n;let l,u=0;u+=t[0]-e[0];for(let r=1;r<n;++r){const n=e[r],o=t[r],i=s[r-1],h=Math.abs(o-i),a=Math.abs(n-i);let c=o-n;h>c&&(c=h),a>c&&(c=a),l=c,u+=l}let h=u/n;o.push(h);for(let u=n;u<r;++u){const n=e[u],r=t[u],a=s[u-1],c=Math.abs(r-a),f=Math.abs(n-a);let p=r-n;c>p&&(p=c),f>p&&(p=f),l=p,h=(l-h)*i+h,o.push(h)}return o};var p=function(t,e,s,n,r=t.length){const o=[];for(let i=0;i<r;++i)o.push(.25*(t[i]+e[i]+s[i]+n[i]));return o};var d=function(t,e,s,n=t.length){const r=[],o=[],i=[],l=1/e;let u=0,h=0;for(let s=0;s<e;++s)u+=t[s],h+=t[s]*t[s];let a=Math.sqrt(h*l-u*l*(u*l));const c=u*l;r.push(c-s*a),i.push(c+s*a),o.push(c);for(let c=e;c<n;++c){u+=t[c],h+=t[c]*t[c],u-=t[c-e],h-=t[c-e]*t[c-e],a=Math.sqrt(h*l-u*l*(u*l));const n=u*l;i.push(n+s*a),r.push(n-s*a),o.push(n)}return[r,o,i]};var v=function(t,e,s,n,r=t.length){const o=[];for(let i=0;i<r;++i){const r=e[i]-s[i];o[i]=r<=0?0:(n[i]-t[i])/r}return o};let x=class t{size;pushes;index;sum;vals;constructor(t){this.size=t,this.pushes=0,this.index=0,this.sum=0,this.vals=[]}static new(e){return new t(e)}push(t){this.pushes>=this.size&&(this.sum-=this.vals[this.index]),this.sum+=t,this.vals[this.index]=t,this.pushes+=1,this.index=(this.index+1)%this.size}qpush(t){this.vals[this.index]=t,this.index=(this.index+1)%this.size}get(t){return this.vals[(this.index+this.size-1+t)%this.size]}};var m=function(t,e,s,n,r=t.length){const o=1/n,i=[],l=new x(n);let u,h;for(u=0;u<r;++u){const r=(t[u]+e[u]+s[u])*(1/3);l.push(r);const a=l.sum*o;if(u>=2*n-2){let t=0;for(h=0;h<n;++h)t+=Math.abs(a-l.vals[h]);let e=t*o;e*=.015,e=(r-a)/e,i.push(e)}}return i};var g=function(t,e,s,n,r,o=t.length){const i=[],l=[];let u,h,a=t[0]-e[0],c=t[0],f=0,p=e[0],d=0;for(let r=1;r<n;++r){const n=e[r],o=t[r],i=s[r-1],l=Math.abs(o-i),v=Math.abs(n-i);let x=o-n;l>x&&(x=l),v>x&&(x=v),u=x,a+=u,c<=(h=t[r])&&(c=h,f=r),p>=(h=e[r])&&(p=h,d=r)}a/=n;const v=(n-1)/n,x=1/n;i.push(c-r*a),l.push(p+r*a);for(let m=n;m<o;++m){const o=e[m],g=t[m],z=s[m-1],M=Math.abs(g-z),b=Math.abs(o-z);let w=g-o;if(M>w&&(w=M),b>w&&(w=b),u=w,a=a*v+u*x,c<=(h=t[m]))c=h,f=m;else if(f==m-n){c=t[m-n+1],f=m-n+1;for(let e=m-n+2;e<=m;++e)c<=(h=t[e])&&(c=h,f=e)}if(p>=(h=e[m]))p=h,d=m;else if(d==m-n){p=e[m-n+1],d=m-n+1;for(let t=m-n+2;t<=m;++t)p>=(h=e[t])&&(p=h,d=t)}i.push(c-r*a),l.push(p+r*a)}return[i,l]};var z=function(t,e,s,n,r,o=t.length){const i=[];let l=0,u=0;for(let o=0;o<r-1;++o)u+=t[o]-e[o]?n[o]*(s[o]-e[o]-(t[o]-s[o]))/(t[o]-e[o]):0,l+=n[o];for(let h=r-1;h<o;++h)u+=t[h]-e[h]?n[h]*(s[h]-e[h]-(t[h]-s[h]))/(t[h]-e[h]):0,l+=n[h],i.push(u/l),u-=t[h-r+1]-e[h-r+1]?n[h-r+1]*(s[h-r+1]-e[h-r+1]-(t[h-r+1]-s[h-r+1]))/(t[h-r+1]-e[h-r+1]):0,l-=n[h-r+1];return i};var M=function(t,e,s=t.length){const n=[];let r=0,o=0;for(let s=1;s<=e;++s)r+=t[s]>t[s-1]?t[s]-t[s-1]:0,o+=t[s]<t[s-1]?t[s-1]-t[s]:0;n.push(100*(r-o)/(r+o));for(let i=e+1;i<s;++i)r-=t[i-e]>t[i-e-1]?t[i-e]-t[i-e-1]:0,o-=t[i-e]<t[i-e-1]?t[i-e-1]-t[i-e]:0,r+=t[i]>t[i-1]?t[i]-t[i-1]:0,o+=t[i]<t[i-1]?t[i-1]-t[i]:0,n.push(100*(r-o)/(r+o));return n};var b=function(t,e,s){const n=new Array(t.length),r=new Array(t.length),o=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=i<e-1?null:(t[i]-t[i-e])/t[i-e]*100,r[i]=i<s-1?null:(t[i]-t[i-s])/t[i-s]*100,o[i]=10*(n[i]+r[i]);return o};var w=function(t,e,s=t.length){const n=[];for(let r=0;r<s;++r)n.push(t[r]>e[r]&&t[r-1]<=e[r-1]||t[r]<e[r]&&t[r-1]>=e[r-1]);return n};var q=function(t,e,s=t.length){const n=[];for(let r=0;r<s;++r)n.push(t[r]>e[r]&&t[r-1]<=e[r-1]);return n};var y=function(t,e){const s=[];for(let n=0;n<t.length;n++){const r=t[n],o=t[n-1];r>e&&o<=e?s.push(!0):s.push(!1)}return s};var k=function(t,e){const s=[];for(let n=0;n<t.length;n++){const r=t[n],o=t[n-1];r<e&&o>=e?s.push(!0):s.push(!1)}return s};let N=class t{size;pushes;index;sum;vals;constructor(t){this.size=t,this.pushes=0,this.index=0,this.sum=0,this.vals=[]}static new(e){return new t(e)}push(t){this.pushes>=this.size&&(this.sum-=this.vals[this.index]),this.sum+=t,this.vals[this.index]=t,this.pushes+=1,this.index=(this.index+1)%this.size}qpush(t){this.vals[this.index]=t,this.index=(this.index+1)%this.size}get(t){return this.vals[(this.index+this.size-1+t)%this.size]}};var _=function(t,e,s,n=t.length){const r=[],o=2/(s+1),i=new N(s);let l,u=t[0]-e[0];for(l=1;l<2*s-1;++l)u=(t[l]-e[l]-u)*o+u,i.qpush(u);for(l=2*s-1;l<n;++l){u=(t[l]-e[l]-u)*o+u;const s=i.vals[i.index];r.push(100*(u-s)/s),i.qpush(u)}return r};var O=function(t,e,s){const n=[],r=[],o=[];for(let i=s-1;i<t.length;i++)n.push(Math.max(...t.slice(i-s+1,i+1))),r.push(Math.min(...e.slice(i-s+1,i+1))),o.push((n[n.length-1]+r[r.length-1])/2);return[n,o,r]};var A=function(t,e,s=t.length){const n=[],r=1/e;n.push(t[0]);for(let e=1;e<s;++e){const s=n[n.length-1]-r;n.push(t[e]>s?t[e]:s)}return n};var U=function(t,e,s=t.length){const n=[],r=2/(e+1),o=1-r;let i=t[0],l=i;for(let u=0;u<s;++u)i=i*o+t[u]*r,u==e-1&&(l=i),u>=e-1&&(l=l*o+i*r,u>=2*(e-1)&&n.push(2*i-l));return n};var j=function(t,e,s,n,r=t.length){const o=[],i=[],l=(n-1)/n;let u=0,h=0,a=0;for(let r=1;r<n;++r){const n=e[r],o=t[r],i=s[r-1],l=Math.abs(o-i),c=Math.abs(n-i);let f=o-n;l>f&&(f=l),c>f&&(f=c);u+=f;let p=t[r]-t[r-1],d=e[r-1]-e[r];p<0?p=0:p>d&&(d=0),d<0?d=0:d>p&&(p=0),h+=p,a+=d}o.push(100*h/u),i.push(100*a/u);for(let c=n;c<r;++c){const n=e[c],r=t[c],f=s[c-1],p=Math.abs(r-f),d=Math.abs(n-f);let v=r-n;p>v&&(v=p),d>v&&(v=d);u=u*l+v;let x=t[c]-t[c-1],m=e[c-1]-e[c];x<0?x=0:x>m&&(m=0),m<0?m=0:m>x&&(x=0),h=h*l+x,a=a*l+m,o.push(100*h/u),i.push(100*a/u)}return[o,i]};var T=function(t,e,s,n=t.length){const r=[],o=[],i=(s-1)/s;let l=0,u=0;for(let n=1;n<s;++n){let s=t[n]-t[n-1],r=e[n-1]-e[n];s<0?s=0:s>r&&(r=0),r<0?r=0:r>s&&(s=0),l+=s,u+=r}r.push(l),o.push(u);for(let h=s;h<n;++h){let s=t[h]-t[h-1],n=e[h-1]-e[h];s<0?s=0:s>n&&(n=0),n<0?n=0:n>s&&(s=0),l=l*i+s,u=u*i+n,r.push(l),o.push(u)}return[r,o]};var P=function(t,e,s=t.length){const n=e/2+1,r=[],o=1/e;let i=0;for(let s=0;s<e;++s)i+=t[s];r.push(t[e-1-n]-i*o);for(let l=e;l<s;++l)i+=t[l],i-=t[l-e],r.push(t[l-n]-i*o);return r};var B=function(t,e,s,n=t.length){const r=[],o=(s-1)/s;let i=0,l=0;for(let n=1;n<s;++n){let s=t[n]-t[n-1],r=e[n-1]-e[n];s<0?s=0:s>r&&(r=0),r<0?r=0:r>s&&(s=0),i+=s,l+=r}let u=i,h=l,a=Math.abs(u-h),c=u+h,f=a/c*100;r.push(f);for(let p=s;p<n;++p){let s=t[p]-t[p-1],n=e[p-1]-e[p];s<0?s=0:s>n&&(n=0),n<0?n=0:n>s&&(s=0),i=i*o+s,l=l*o+n,u=i,h=l,a=Math.abs(u-h),c=u+h,f=a/c*100,r.push(f)}return r};var C=function(t,e,s=t.length){const n=[],r=1-1/e;n.push(t[0]);for(let e=1;e<s;++e){const s=n[n.length-1]*r;n.push(t[e]>s?t[e]:s)}return n};var D=function(t,e,s=t.length){const n=[],r=2/(e+1);let o=t[0];n.push(o);for(let e=1;e<s;++e)o=(t[e]-o)*r+o,n.push(o);return n};var E=function(t,e,s,n=t.length){const r=[];let o=.5*(t[0]+e[0]);for(let i=1;i<n;++i){const n=.5*(t[i]+e[i]),l=s[i]/1e4/(t[i]-e[i]);r.push((n-o)/l),o=n}return r};var F=function(t,e,s,n=t.length){const r=[],o=2/(s+1);let i=e[1]*(t[1]-t[0]);for(let s=1;s<n;++s)i=(e[s]*(t[s]-t[s-1])-i)*o+i,r.push(i);return r};var G=function(t,e,s,n=t.length){const r=[],o=[];let i,l,u=0,h=-1,a=-1,c=.5*(t[0]+e[0]),f=.5*(t[0]+e[0]),p=0,d=0;for(let v=s-1;v<n;++v,++u){if(i=.5*(t[v]+e[v]),h<u)for(h=u,c=.5*(t[h]+e[h]),l=u;++l<=v;)i=.5*(t[l]+e[l]),i>=c&&(c=i,h=l);else i>=c&&(h=v,c=i);if(i=.5*(t[v]+e[v]),a<u)for(a=u,f=.5*(t[a]+e[a]),l=u;++l<=v;)i=.5*(t[l]+e[l]),i<=f&&(f=i,a=l);else i<=f&&(a=v,f=i);let s=c-f;0==s&&(s=.001),p=.66*((.5*(t[v]+e[v])-f)/s-.5)+.67*p,p>.99&&(p=.999),p<-.99&&(p=-.999),o.push(d),d=.5*Math.log((1+p)/(1-p))+.5*d,r.push(d)}return[r,o]};var H=function(t,e,s=t.length){const n=[];let r=0,o=0,i=0,l=0;const u=1/e;let h=0;for(let s=0;s<e-1;++s)r+=s+1,o+=(s+1)*(s+1),l+=t[s]*(s+1),i+=t[s];r+=e,o+=e*e;const a=1/(e*o-r*r);for(let o=e-1;o<s;++o){l+=t[o]*e,i+=t[o];const s=(e*l-r*i)*a,c=(i-s*r)*u;o>=e&&n.push(100*(t[o]-h)/t[o]),h=c+s*(e+1),l-=i,i-=t[o-e+1]}return n};class I{size;pushes;index;sum;vals;constructor(t){this.size=t,this.pushes=0,this.index=0,this.sum=0,this.vals=[]}static new(t){return new I(t)}push(t){this.pushes>=this.size&&(this.sum-=this.vals[this.index]),this.sum+=t,this.vals[this.index]=t,this.pushes+=1,this.index=(this.index+1)%this.size}qpush(t){this.vals[this.index]=t,this.index=(this.index+1)%this.size}get(t){return this.vals[(this.index+this.size-1+t)%this.size]}}var J=function(t,e,s=t.length){const n=[],r=Math.floor(e/2),o=Math.floor(Math.sqrt(e)),i=e*(e+1)/2,l=r*(r+1)/2,u=o*(o+1)/2;let h,a=0,c=0,f=0,p=0,d=0,v=0;for(h=0;h<e-1;++h)c+=t[h]*(h+1),a+=t[h],h>=e-r&&(p+=t[h]*(h+1-(e-r)),f+=t[h]);const x=new I(o);for(h=e-1;h<s;++h){c+=t[h]*e,a+=t[h],p+=t[h]*r,f+=t[h];const s=2*(p/l)-c/i;v+=s*o,d+=s,x.qpush(s),h>=e-1+(o-1)?(n.push(v/u),v-=d,d-=x.get(1)):v-=d,c-=a,a-=t[h-e+1],p-=f,f-=t[h-r+1]}return n};var K=function(t,e,s=t.length){const n=[],r=2/31;let o=0;for(let s=1;s<e;++s)o+=Math.abs(t[s]-t[s-1]);let i,l,u=t[e-1];n.push(u);for(let h=e;h<s;++h)o+=Math.abs(t[h]-t[h-1]),h>e&&(o-=Math.abs(t[h-e]-t[h-e-1])),i=0!=o?Math.abs(t[h]-t[h-e])/o:1,l=Math.pow(.6021505376344085*i+r,2),u+=l*(t[h]-u),n.push(u);return n};var L=function(t,e,s,n,r,o,i,l,u,h=t.length){const a=[],c=[],f=2/(o+1),p=2/(i+1),d=2/(l+1),v=2/(u+1);function x(e,s){return(t[e]-t[e-s])/t[e-s]}let m=x(e,e),g=x(s,s),z=x(n,n),M=x(r,r);for(let t=e+1;t<r+1&&t<h;++t)m=(x(t,e)-m)*f+m;for(let t=s+1;t<r+1&&t<h;++t)g=(x(t,s)-g)*p+g;for(let t=n+1;t<r+1&&t<h;++t)z=(x(t,n)-z)*d+z;for(let t=r+1;t<r+1&&t<h;++t)M=(x(t,r)-M)*v+M;let b=(1*m+2*g+3*z+4*M)/10;c.push(b);let w=b;a.push(w);for(let t=r+1;t<h;++t)m=(x(t,e)-m)*f+m,g=(x(t,s)-g)*p+g,z=(x(t,n)-z)*d+z,M=(x(t,r)-M)*v+M,b=(1*m+2*g+3*z+4*M)/10,a.push(b),w=.2*(b-w)+w,c.push(w);return[a,c]};var Q=function(t,e,s,n,r,o,i=t.length){const l=2/(r+1),u=2/(o+1),h=[];let a=0,c=t[0]+e[0]+s[0],f=-1,p=0,d=0;for(let r=1;r<i;++r){const o=t[r]+e[r]+s[r],i=t[r]-e[r];o>c&&1!=f?(f=1,a=t[r-1]-e[r-1]):o<c&&0!=f&&(f=0,a=t[r-1]-e[r-1]),a+=i;const v=n[r]*Math.abs(i/a*2-1)*100*(f?1:-1);1==r?(p=v,d=v):(p=(v-p)*l+p,d=(v-d)*u+d),h.push(p-d),c=o}return h};var R=function(t,e,s,n,r=t.length){const o=[],i=[],l=[],u=2/(e+1),h=2/(s+1),a=2/(n+1);let c=t[0],f=t[0],p=0;for(let e=1;e<r;++e){c=(t[e]-c)*u+c,f=(t[e]-f)*h+f;const n=c-f;e==s-1&&(p=n),e>=s-1&&(p=(n-p)*a+p,o.push(n),i.push(p),l.push(n-p))}return[o,i,l]};var S=function(t,e,s,n=t.length){const r=[];let o=t[0]-e[0],i=o;const l={index:0,pushes:0,size:s,sum:0,vals:[]};for(let u=0;u<n;++u){o=.8*o+.2*(t[u]-e[u]),8==u&&(i=o),u>=8&&(i=.8*i+.2*o,u>=16&&(l.pushes>=l.size&&(l.sum-=l.vals[l.index]),l.sum+=o/i,l.vals[l.index]=o/i,l.pushes+=1,l.index=l.index+1,l.index>=l.size&&(l.index=0),u>=16+s-1&&r.push(l.sum)))}return r};var V=function(t,e,s=t.length){const n=[];let r,o=0,i=-1,l=t[0];for(let u=e-1;u<s;++u,++o){let e=t[u];if(i<o)for(i=o,l=t[i],r=o;++r<=u;)e=t[r],e>=l&&(l=e,i=r);else e>=l&&(i=u,l=e);n.push(l)}return n};var W=function(t,e,s=t.length){const n=[],r=1/e;let o,i=0;for(let l=0;l<s;++l){i+=t[l],l>=e&&(i-=t[l-e]);const s=i*r;if(l>=e-1){let i=0;for(o=0;o<e;++o)i+=Math.abs(s-t[l-o]);n.push(i*r)}}return n};var X=function(t,e,s=t.length){const n=[];let r,o=0,i=-1,l=t[0];for(let u=e-1;u<s;++u,++o){let e=t[u];if(i<o)for(i=o,l=t[i],r=o;++r<=u;)e=t[r],e<=l&&(l=e,i=r);else e<=l&&(i=u,l=e);n.push(l)}return n};var Y=function(t,e,s,n,r=t.length){const o=[],i=1/n;let l,u=0;u+=t[0]-e[0];for(let r=1;r<n;++r){const n=e[r],o=t[r],i=s[r-1],h=Math.abs(o-i),a=Math.abs(n-i);let c=o-n;h>c&&(c=h),a>c&&(c=a),l=c,u+=l}let h=u/n;o.push(100*h/s[n-1]);for(let u=n;u<r;++u){const n=e[u],r=t[u],a=s[u-1],c=Math.abs(r-a),f=Math.abs(n-a);let p=r-n;c>p&&(p=c),f>p&&(p=f),l=p,h=(l-h)*i+h,o.push(100*h/s[u])}return o};var Z=function(t,e,s=t.length){const n=[];let r=1e3;n.push(r);for(let o=1;o<s;++o)e[o]<e[o-1]&&(r+=(t[o]-t[o-1])/t[o-1]*r),n.push(r);return n};var $=function(t,e,s=t.length){const n=[];let r=0;n.push(r);let o=t[0];for(let i=1;i<s;++i)t[i]>o?r+=e[i]:t[i]<o&&(r-=e[i]),o=t[i],n.push(r);return n};var tt=function(t,e,s,n=t.length){const r=[],o=2/(s+1),i={size:e,index:0,pushes:0,sum:0,vals:[]};let l;for(l=1;l<e;++l)i.pushes>=i.size&&(i.sum-=i.vals[i.index]),i.sum+=Math.sqrt(Math.pow(t[l]-t[l-1],2)+1),i.vals[i.index]=Math.sqrt(Math.pow(t[l]-t[l-1],2)+1),i.pushes+=1,i.index=i.index+1,i.index>=i.size&&(i.index=0);i.pushes>=i.size&&(i.sum-=i.vals[i.index]),i.sum+=Math.sqrt(Math.pow(t[l]-t[l-1],2)+1),i.vals[i.index]=Math.sqrt(Math.pow(t[l]-t[l-1],2)+1),i.pushes+=1,i.index=i.index+1,i.index>=i.size&&(i.index=0);let u=100*(t[l]-t[l-e]>0?1:-1)*Math.sqrt(Math.pow(t[l]-t[l-e],2)+100)/i.sum;for(r.push(u),l=e+1;l<n;++l){i.pushes>=i.size&&(i.sum-=i.vals[i.index]),i.sum+=Math.sqrt(Math.pow(t[l]-t[l-1],2)+1),i.vals[i.index]=Math.sqrt(Math.pow(t[l]-t[l-1],2)+1),i.pushes+=1,i.index=i.index+1,i.index>=i.size&&(i.index=0);u=(100*(t[l]-t[l-e]>0?1:-1)*Math.sqrt(Math.pow(t[l]-t[l-e],2)+100)/i.sum-u)*o+u,r.push(u)}return r};var et=function(t,e,s,n,r,o=t.length){const i=[];let l,u=0,h=0;const a=n*(n+1)/2,c=n*(n+1)*(2*n+1)/6;let f;for(f=0;f<n;++f)h+=s[f]*(f+1),u+=s[f];--f;const p=(h/n-a/n*u/n)/(c/n-a/n*(a/n));let d=t[f];for(let e=1;e<n;++e)d<t[f-e]+e*p&&(d=t[f-e]+e*p);let v=e[f];for(let t=1;t<n;++t)v>e[f-t]+t*p&&(v=e[f-t]+t*p);for(l=(s[f]-v)/(d-v)*100,i.push(l),++f;f<o;++f){h+=-u+s[f]*n,u+=-s[f-n]+s[f];const o=(h/n-a/n*u/n)/(c/n-a/n*(a/n));let p=t[f];for(let e=1;e<n;++e)p<t[f-e]+e*o&&(p=t[f-e]+e*o);let d=e[f];for(let t=1;t<n;++t)d>e[f-t]+t*o&&(d=e[f-t]+t*o);l=2*((s[f]-d)/(p-d)*100-l)/(1+r)+l,i.push(l)}return i};var st=function(t,e,s,n=t.length){const r=[],o=2/(e+1),i=2/(s+1);let l=t[0],u=t[0];for(let e=1;e<n;++e){l=(t[e]-l)*o+l,u=(t[e]-u)*i+u;const s=100*(l-u)/u;r.push(s)}return r};var nt=function(t,e,s=t.length){const n=[];let r=1e3;n.push(r);for(let o=1;o<s;++o)e[o]>e[o-1]&&(r+=(t[o]-t[o-1])/t[o-1]*r),n.push(r);return n};var rt=function(t,e,s,n=e.length){const r=[],o=1/s;let i,l=0;for(i=0;i<s;++i)l+=e[i]-t[i];for(r.push(l*o),i=s;i<n;++i)l+=e[i]-t[i],l-=e[i-s]-t[i-s],r.push(l*o);return r};var ot=function(t,e,s,n=t.length){const r=[],o=1-s;let i=(1-o)*t[0]+t[0],l=(1-o)*t[0]+o*(t[0]+i);for(let s=1;s<e-1;++s){const e=(1-o)*i+t[s];l=(1-o)*l+o*(t[s]+e-i),i=e}for(let s=e-1;s<n;++s){const e=(1-o)*i+t[s];l=(1-o)*l+o*(t[s]+e-i),i=e,r.push(l)}return r};var it=function(t,e,s=t.length){const n=[],r=1/e;let o=0;for(let s=0;s<e;++s)o+=t[s];n.push(o*r);for(let i=e;i<s;++i)o+=t[i],o-=t[i-e],n.push(o*r);return n};var lt=function(t,e,s=t.length){const n=[],r=1/e;let o=0,i=0;for(let s=0;s<e;++s)o+=t[s],i+=t[s]*t[s];let l=i*r-o*r*(o*r);l>0&&(l=Math.sqrt(l)),n.push(l);for(let l=e;l<s;++l){o+=t[l],i+=t[l]*t[l],o-=t[l-e],i-=t[l-e]*t[l-e];let s=i*r-o*r*(o*r);s>0&&(s=Math.sqrt(s)),n.push(s)}return n};var ut=function(t,e,s=t.length){const n=[],r=1/e;let o=0,i=0;const l=1/Math.sqrt(e);for(let s=0;s<e;++s)o+=t[s],i+=t[s]*t[s];let u=i*r-o*r*(o*r);u>0&&(u=Math.sqrt(u)),n.push(l*u);for(let u=e;u<s;++u){o+=t[u],i+=t[u]*t[u],o-=t[u-e],i-=t[u-e]*t[u-e];let s=i*r-o*r*(o*r);s>0&&(s=Math.sqrt(s)),n.push(l*s)}return n};var ht=function(t,e,s,n,r,o,i=t.length){const l=1/r,u=1/o,h=[],a=[];let c,f=0,p=-1,d=-1,v=t[0],x=e[0];const m={size:r,index:0,pushes:0,sum:0,vals:[]},g={size:o,index:0,pushes:0,sum:0,vals:[]};let z;for(let M=0;M<i;++M){if(M>=n&&++f,c=t[M],p<f)for(p=f,v=t[p],z=f;++z<=M;)c=t[z],c>=v&&(v=c,p=z);else c>=v&&(p=M,v=c);if(c=e[M],d<f)for(d=f,x=e[d],z=f;++z<=M;)c=e[z],c<=x&&(x=c,d=z);else c<=x&&(d=M,x=c);const i=v-x,b=0==i?0:(s[M]-x)/i*100;if(m.pushes>=m.size&&(m.sum-=m.vals[m.index]),m.sum+=b,m.vals[m.index]=b,m.pushes+=1,m.index=m.index+1,m.index>=m.size&&(m.index=0),M>=n-1+r-1){const t=m.sum*l;g.pushes>=g.size&&(g.sum-=g.vals[g.index]),g.sum+=t,g.vals[g.index]=t,g.pushes+=1,g.index=g.index+1,g.index>=g.size&&(g.index=0),M>=n-1+r-1+o-1&&(h.push(t),a.push(g.sum*u))}}return[h,a]};var at=function(t,e,s=t.length){const n=[],r=1/e,o={size:e,index:0,pushes:0,sum:0,vals:[]};let i=0,l=0;for(let s=1;s<=e;++s){i+=t[s]>t[s-1]?t[s]-t[s-1]:0,l+=t[s]<t[s-1]?t[s-1]-t[s]:0}i/=e,l/=e;let u=i/(i+l)*100;o.pushes>=o.size&&(o.sum-=o.vals[o.index]),o.sum+=u,o.vals[o.index]=u,o.pushes+=1,o.index=o.index+1,o.index>=o.size&&(o.index=0);let h=u,a=u,c=0,f=0;for(let p=e+1;p<s;++p){if(i=((t[p]>t[p-1]?t[p]-t[p-1]:0)-i)*r+i,l=((t[p]<t[p-1]?t[p-1]-t[p]:0)-l)*r+l,u=i/(i+l)*100,u>a)a=u,f=o.index;else if(f==o.index){a=u;for(let t=0;t<o.size;++t)t!=o.index&&o.vals[t]>a&&(a=o.vals[t],f=t)}if(u<h)h=u,c=o.index;else if(c==o.index){h=u;for(let t=0;t<o.size;++t)t!=o.index&&o.vals[t]<h&&(h=o.vals[t],c=t)}if(o.vals[o.index]=u,o.index=o.index+1,o.index>=o.size&&(o.index=0),p>2*e-2){const t=a-h;0==t?n.push(0):n.push((u-h)/t)}}return n};var ct=function(t,e,s=t.length){const n=[];let r=0;for(let s=0;s<e;++s)r+=t[s];n.push(r);for(let o=e;o<s;++o)r+=t[o],r-=t[o-e],n.push(r);return n};var ft=function(t,e,s=t.length){const n=[],r=2/(e+1),o=1-r;let i=t[0],l=0,u=0;for(let h=0;h<s;++h)i=i*o+t[h]*r,h==e-1&&(l=i),h>=e-1&&(l=l*o+i*r,h==2*(e-1)&&(u=l),h>=2*(e-1)&&(u=u*o+l*r,h>=3*(e-1)&&n.push(3*i-3*l+u)));return n};var pt=function(t,e,s=t.length){const n=[],r=1/e;let o=0,i=0;for(let s=0;s<e;++s)o+=t[s],i+=t[s]*t[s];n.push(i*r-o*r*(o*r));for(let l=e;l<s;++l)o+=t[l],i+=t[l]*t[l],o-=t[l-e],i-=t[l-e]*t[l-e],n.push(i*r-o*r*(o*r));return n};var dt=function(t,e,s=t.length){const n=[];let r,o,i,l=1,u=-1,h=-1,a=t[0],c=t[0],f=0,p=t[0];for(let s=1;s<e;++s)o=t[s],f+=Math.abs(o-p),p=o;for(let d=e;d<s;++d,++l){if(o=t[d],f+=Math.abs(o-p),p=o,d>e&&(f-=Math.abs(t[d-e]-t[d-e-1])),r=o,u<l)for(u=l,a=t[u],i=l;++i<=d;)r=t[i],r>=a&&(a=r,u=i);else r>=a&&(u=d,a=r);if(r=o,h<l)for(h=l,c=t[h],i=l;++i<=d;)r=t[i],r<=c&&(c=r,h=i);else r<=c&&(h=d,c=r);n.push(Math.abs(a-c)/f)}return n};var vt=function(t,e,s=t.length){const n=[],r=1/e,o=Math.sqrt(252);let i=0,l=0;for(let s=1;s<=e;++s){const e=t[s]/t[s-1]-1;i+=e,l+=e*e}n.push(Math.sqrt(l*r-i*r*(i*r))*o);for(let u=e+1;u<s;++u){const s=t[u]/t[u-1]-1;i+=s,l+=s*s;const h=t[u-e]/t[u-e-1]-1;i-=h,l-=h*h,n.push(Math.sqrt(l*r-i*r*(i*r))*o)}return n};var xt=function(t,e,s,n=t.length){const r=[];let o=0,i=0;for(let n=0;n<s;++n)o+=t[n]*e[n],i+=e[n];r.push(o/i);for(let l=s;l<n;++l)o+=t[l]*e[l],o-=t[l-s]*e[l-s],i+=e[l],i-=e[l-s],r.push(o/i);return r};var mt=function(t,e,s,n=t.length){const r=[];let o=0,i=s[0];for(let l=1;l<n;++l){const n=s[l];n>i?o+=n-(i<e[l]?i:e[l]):n<i&&(o+=n-(i>t[l]?i:t[l])),r.push(o),i=s[l]}return r};var gt=function(t,e,s=t.length){const n=[],r=1/e;let o=0;for(let s=0;s<e;++s)o+=t[s];let i=o/e;n.push(i);for(let o=e;o<s;++o)i=(t[o]-i)*r+i,n.push(i);return n};var zt=function(t,e,s,n,r=t.length){const o=[];let i,l,u=0,h=-1,a=-1,c=t[0],f=e[0];for(let p=n-1;p<r;++p,++u){if(i=t[p],h<u)for(h=u,c=t[h],l=u;++l<=p;)i=t[l],i>=c&&(c=i,h=l);else i>=c&&(h=p,c=i);if(i=e[p],a<u)for(a=u,f=e[a],l=u;++l<=p;)i=e[l],i<=f&&(f=i,a=l);else i<=f&&(a=p,f=i);const n=c-f,r=0==n?0:(c-s[p])/n*-100;o.push(r)}return o};var Mt=function(t,e,s=t.length){const n=[],r=e*(e+1)/2;let o=0,i=0;for(let s=0;s<e-1;++s)i+=t[s]*(s+1),o+=t[s];for(let l=e-1;l<s;++l)i+=t[l]*e,o+=t[l],n.push(i/r),i-=o,o-=t[l-e+1];return n};var bt=function(t,e,s=t.length){const n=Math.floor((e-1)/2),r=[],o=2/(e+1);let i,l=t[n-1];for(r.push(l),i=n;i<s;++i){const e=t[i];l=(e+(e-t[i-n])-l)*o+l,r.push(l)}return r},wt={_cvi:e,abands:s,ad:n,adosc:r,adx:o,adxr:i,alma:l,ao:u,apo:h,aroon:a,aroonosc:c,atr:f,avgprice:p,bbands:d,bop:v,cci:m,ce:g,cmf:z,cmo:M,copp:b,crossany:w,crossover:q,crossOverNumber:y,crossUnderNumber:k,cvi:_,dc:O,decay:A,dema:U,di:j,dm:T,dpo:P,dx:B,edecay:C,ema:D,emv:E,fi:F,fisher:G,fosc:H,hma:J,kama:K,kc:function(t,e,s,n,r,o=t.length){const i=[],l=[],u=[],h=2/(n+1);let a=s[0],c=t[0]-e[0];i.push(a-r*c),l.push(a),u.push(a+r*c);let f=0;for(let n=1;n<o;++n){a=(s[n]-a)*h+a;const o=e[n],p=t[n],d=s[n-1],v=Math.abs(p-d),x=Math.abs(o-d);let m=p-o;v>m&&(m=v),x>m&&(m=x),f=m,c=(f-c)*h+c,i.push(a-r*c),l.push(a),u.push(a+r*c)}return[i,l,u]},kst:L,kvo:Q,lag:function(t,e,s=t.length){const n=[];for(let r=e;r<s;++r)n.push(t[r-e]);return n},linreg:function(t,e,s=t.length){const n=[];let r=0,o=0,i=0,l=0;const u=1/e;for(let s=0;s<e-1;++s)r+=s+1,o+=(s+1)*(s+1),l+=t[s]*(s+1),i+=t[s];r+=e,o+=e*e;const h=1/(e*o-r*r);for(let o=e-1;o<s;++o){l+=t[o]*e,i+=t[o];const s=(e*l-r*i)*h,a=(i-s*r)*u;n.push(a+s*e),l-=i,i-=t[o-e+1]}return n},linregintercept:function(t,e,s=t.length){const n=[];let r=0,o=0,i=0,l=0;const u=1/e;for(let s=0;s<e-1;++s)r+=s+1,o+=(s+1)*(s+1),l+=t[s]*(s+1),i+=t[s];r+=e,o+=e*e;const h=1/(e*o-r*r);for(let o=e-1;o<s;++o){l+=t[o]*e,i+=t[o];const s=(e*l-r*i)*h,a=(i-s*r)*u;n.push(a+1*s),l-=i,i-=t[o-e+1]}return n},linregslope:function(t,e,s=t.length){const n=[];let r=0,o=0,i=0,l=0;for(let s=0;s<e-1;++s)r+=s+1,o+=(s+1)*(s+1),l+=t[s]*(s+1),i+=t[s];r+=e,o+=e*e;const u=1/(e*o-r*r);for(let o=e-1;o<s;++o){l+=t[o]*e,i+=t[o];const s=(e*l-r*i)*u;n.push(s),l-=i,i-=t[o-e+1]}return n},macd:R,marketfi:function(t,e,s,n=t.length){const r=[];for(let o=0;o<n;++o)r.push((t[o]-e[o])/s[o]);return r},mass:S,max:V,md:W,medprice:function(t,e,s=t.length){const n=[];for(let r=0;r<s;++r)n.push(.5*(t[r]+e[r]));return n},mfi:function(t,e,s,n,r,o=t.length){const i=[];let l=(t[0]+e[0]+s[0])*(1/3);const u={size:r,index:0,pushes:0,sum:0,vals:[]},h={size:r,index:0,pushes:0,sum:0,vals:[]};for(let a=1;a<o;++a){const o=(t[a]+e[a]+s[a])*(1/3),c=o*n[a];o>l?(u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=c,u.vals[u.index]=c,u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0),h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=0,h.vals[h.index]=0,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0)):o<l?(h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=c,h.vals[h.index]=c,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0),u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=0,u.vals[u.index]=0,u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0)):(u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=0,u.vals[u.index]=0,u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0),h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=0,h.vals[h.index]=0,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0)),l=o,a>=r&&i.push(u.sum/(u.sum+h.sum)*100)}return i},min:X,mom:function(t,e,s=t.length){const n=[];for(let r=e;r<s;++r)n.push(t[r]-t[r-e]);return n},msw:function(t,e,s=t.length){const n=[],r=[],o=3.1415926,i=2*o;let l,u,h,a,c=0;for(let f=e;f<s;++f){for(u=0,h=0,a=0;a<e;++a)c=t[f-a],u+=Math.cos(i*a/e)*c,h+=Math.sin(i*a/e)*c;l=Math.abs(u)>.001?Math.atan(h/u):i/2*(h<0?-1:1),u<0&&(l+=o),l+=o/2,l<0&&(l+=i),l>i&&(l-=i),n.push(Math.sin(l)),r.push(Math.sin(l+o/4))}return[n,r]},natr:Y,normalize:function(t,e,s=NaN){const n=t-e.length,r=[];for(let t=0;t<n;++t)r.push(s);return[...r,...e]},normalize2:function(t,e){const s=[];return s[e-t.length-1]=NaN,[...s,...t]},nvi:Z,obv:$,pbands:function(t,e,s,n,r=t.length){const o=[],i=[];let l=0,u=0;const h=n*(n+1)/2,a=n*(n+1)*(2*n+1)/6;let c;for(c=0;c<n;++c)u+=s[c]*(c+1),l+=s[c];--c;const f=(u/n-h/n*l/n)/(a/n-h/n*(h/n));let p=t[c];for(let e=1;e<n;++e)p<t[c-e]+e*f&&(p=t[c-e]+e*f);let d=e[c];for(let t=1;t<n;++t)d>e[c-t]+t*f&&(d=e[c-t]+t*f);for(i.push(p),o.push(d),++c;c<r;++c){u+=-l+s[c]*n,l+=-s[c-n]+s[c];const r=(u/n-h/n*l/n)/(a/n-h/n*(h/n));let f=t[c];for(let e=1;e<n;++e)f<t[c-e]+e*r&&(f=t[c-e]+e*r);let p=e[c];for(let t=1;t<n;++t)p>e[c-t]+t*r&&(p=e[c-t]+t*r);o.push(p),i.push(f)}return[o,i]},pfe:tt,posc:et,ppo:st,psar:function(t,e,s,n,r=t.length){const o=[];let i,l,u;i=t[0]+e[0]<=t[1]+e[1]?1:0,i?(u=t[0],l=e[0]):(u=e[0],l=t[0]);let h=s;for(let a=1;a<r;++a)l=(u-l)*h+l,i?(a>=2&&l>e[a-2]&&(l=e[a-2]),l>e[a-1]&&(l=e[a-1]),h<n&&t[a]>u&&(h+=s,h>n&&(h=n)),t[a]>u&&(u=t[a])):(a>=2&&l<t[a-2]&&(l=t[a-2]),l<t[a-1]&&(l=t[a-1]),h<n&&e[a]<u&&(h+=s,h>n&&(h=n)),e[a]<u&&(u=e[a])),(i&&e[a]<l||!i&&t[a]>l)&&(h=s,l=u,i=!i,u=i?t[a]:e[a]),o.push(l);return o},pvi:nt,qstick:rt,rmi:function(t,e,s,n=t.length){const r=[];let o,i,l=s;for(o=0>t[l]-t[l-s]?0:t[l]-t[l-s],i=0>t[l-s]-t[l]?0:t[l-s]-t[l],++l,r.push(o/(o+i)*100);l<n;++l)o=2*(0>t[l]-t[l-s]?0:t[l]-t[l-s]-o)/(1+e)+o,i=2*(0>t[l-s]-t[l]?0:t[l-s]-t[l]-i)/(1+e)+i,r.push(o/(o+i)*100);return r},rmta:ot,roc:function(t,e,s=t.length){const n=[];for(let r=e;r<s;++r)n.push((t[r]-t[r-e])/t[r-e]);return n},rocr:function(t,e,s=t.length){const n=[];for(let r=e;r<s;++r)n.push(t[r]/t[r-e]);return n},rsi:function(t,e,s=t.length){const n=[],r=1/e;let o=0,i=0;for(let s=1;s<=e;++s){o+=t[s]>t[s-1]?t[s]-t[s-1]:0,i+=t[s]<t[s-1]?t[s-1]-t[s]:0}o/=e,i/=e,n.push(o/(o+i)*100);for(let l=e+1;l<s;++l){o=((t[l]>t[l-1]?t[l]-t[l-1]:0)-o)*r+o,i=((t[l]<t[l-1]?t[l-1]-t[l]:0)-i)*r+i,n.push(o/(o+i)*100)}return n},rvi:function(t,e,s,n=t.length){const r=[];let o=0,i=0;const l=s*(s+1)/2,u=s*(s+1)*(2*s+1)/6;let h=0,a=0,c=0;for(;c<s;++c)i+=t[c]*(c+1),o+=t[c];--c;const f=(i/s-l/s*o/s)/(u/s-l/s*(l/s)),p=o/s-f*l/s,d=t[c]-(p+f*s);for(d>0?h=d*d/s:a=d*d/s,h+a==0?r.push(50):r.push(h/(h+a)*100),++c;c<n;++c){i+=-o+t[c]*s,o+=-t[c-s]+t[c];const n=(i/s-l/s*o/s)/(u/s-l/s*(l/s)),f=o/s-n*l/s,p=t[c]-(f+n*s);p>0?h=2*(p*p/s-h)/(e+1)+h:a=2*(p*p/s-a)/(e+1)+a,h+a==0?r.push(50):r.push(h/(h+a)*100)}return r},sma:it,smi:function(t,e,s,n,r,o,i=t.length){const l=[];let u=1-n,h=NaN,a=NaN,c=NaN,f=NaN,p=0,d=0,v=0,x=0,m=0,g=0;for(;g<i&&u==1-n;++g,++u)d=t[g],v=u,p=e[g],x=u;for(;g<i&&u<0;++g,++u)d<=t[g]&&(d=t[g],v=u),p>=e[g]&&(p=e[g],x=u);for(;g<i&&0==u;++g,++u)d<=t[g]&&(d=t[g],v=u),p>=e[g]&&(p=e[g],x=u),h=a=s[g]-.5*(d+p),c=f=d-p,l.push(100*a/(.5*f));for(;g<i;++g,++u){if(v==u-n){d=t[g],v=u;for(let e=1;e<n;++e)m=t[g-e],m>d&&(d=m,v=u-e)}else d<=t[g]&&(d=t[g],v=u);if(x==u-n){p=e[g],x=u;for(let t=1;t<n;++t)m=e[g-t],m<p&&(p=m,x=u-t)}else p>=e[g]&&(p=e[g],x=u);h=(s[g]-.5*(d+p)-h)*(2/(1+r))+h,a=2/(1+o)*(h-a)+a,c=2/(1+r)*(d-p-c)+c,f=2/(1+o)*(c-f)+f,l.push(100*a/(.5*f))}return l},stddev:lt,stderr:ut,stoch:ht,stochrsi:at,sum:ct,tema:ft,tr:function(t,e,s,n=t.length){const r=[];let o;r[0]=t[0]-e[0];for(let i=1;i<n;++i){const n=e[i],l=t[i],u=s[i-1],h=Math.abs(l-u),a=Math.abs(n-u);let c=l-n;h>c&&(c=h),a>c&&(c=a),o=c,r.push(o)}return r},trima:function(t,e,s=t.length){const n=[],r=1/(e%2?(e/2+1)*(e/2+1):e/2*(e/2+1));let o=0,i=0,l=0;const u=e%2?e/2:e/2-1,h=u+1;let a=1;for(let s=0;s<e-1;++s)o+=t[s]*a,s+1>e-u&&(i+=t[s]),s+1<=h&&(l+=t[s]),s+1<h&&++a,s+1>=e-u&&--a;let c=e-1-u+1,f=e-1-e+1+h,p=e-1-e+1;for(let u=e-1;u<s;++u)o+=t[u],n.push(o*r),i+=t[u],o+=i,o-=l,i-=t[c++],l+=t[f++],l-=t[p++];return n},trix:function(t,e,s=t.length){const n=[],r=3*e-2,o=2/(e+1);let i=t[0],l=0,u=0;for(let s=1;s<r;++s)i=(t[s]-i)*o+i,s==e-1?l=i:s>e-1&&(l=(i-l)*o+l,s==2*e-2?u=l:s>2*e-2&&(u=(l-u)*o+u));for(let e=r;e<s;++e){i=(t[e]-i)*o+i,l=(i-l)*o+l;const s=u;u=(l-u)*o+u,n.push((u-s)/u*100)}return n},tsf:function(t,e,s=t.length){const n=[];let r=0,o=0,i=0,l=0;const u=1/e;for(let s=0;s<e-1;++s)r+=s+1,o+=(s+1)*(s+1),l+=t[s]*(s+1),i+=t[s];r+=e,o+=e*e;const h=1/(e*o-r*r);for(let o=e-1;o<s;++o){l+=t[o]*e,i+=t[o];const s=(e*l-r*i)*h,a=(i-s*r)*u;n.push(a+s*(e+1)),l-=i,i-=t[o-e+1]}return n},tsi:function(t,e,s,n=t.length){const r=[];let o=-1,i=0,l=0,u=0,h=0,a=0,c=0;for(;c<n&&-1==o;++c,++o)i=t[c];for(;c<n&&0==o;++c,++o)u=l=t[c]-i,a=h=Math.abs(t[c]-i),r.push(100*(a?u/a:0)),i=t[c];for(;c<n;++c,++o)l=2*(t[c]-i-l)/(1+e)+l,h=2*(Math.abs(t[c]-i)-h)/(1+e)+h,u=2*(l-u)/(1+s)+u,a=2*(h-a)/(1+s)+a,r.push(100*(a?u/a:0)),i=t[c];return r},typprice:function(t,e,s,n=t.length){const r=[];for(let o=0;o<n;++o)r.push((t[o]+e[o]+s[o])*(1/3));return r},ultosc:function(t,e,s,n,r,o,i=t.length){const l=[],u={size:o,index:0,pushes:0,sum:0,vals:[]},h={size:o,index:0,pushes:0,sum:0,vals:[]};let a=0,c=0,f=0,p=0;for(let d=1;d<i;++d){const i=e[d]<s[d-1]?e[d]:s[d-1],v=t[d]>s[d-1]?t[d]:s[d-1],x=s[d]-i,m=v-i;if(a+=x,c+=x,f+=m,p+=m,u.pushes>=u.size&&(u.sum-=u.vals[u.index]),u.sum+=x,u.vals[u.index]=x,u.pushes+=1,u.index=u.index+1,u.index>=u.size&&(u.index=0),h.pushes>=h.size&&(h.sum-=h.vals[h.index]),h.sum+=m,h.vals[h.index]=m,h.pushes+=1,h.index=h.index+1,h.index>=h.size&&(h.index=0),d>n){let t=u.index-n-1;if(t<0&&(t+=o),a-=u.vals[t],f-=h.vals[t],d>r){let t=u.index-r-1;t<0&&(t+=o),c-=u.vals[t],p-=h.vals[t]}}if(d>=o){const t=100*(4*a/f+2*c/p+1*u.sum/h.sum)/7;l.push(t)}}return l},varf:pt,vhf:dt,vidya:function(t,e,s,n,r=t.length){const o=[],i=1/e,l=1/s;let u=0,h=0,a=0,c=0;for(let n=0;n<s;++n)a+=t[n],c+=t[n]*t[n],n>=s-e&&(u+=t[n],h+=t[n]*t[n]);let f=t[s-2];if(o.push(f),s-1<r){let e=Math.sqrt(h*i-u*i*(u*i))/Math.sqrt(c*l-a*l*(a*l));e!=e&&(e=0),e*=n,f=(t[s-1]-f)*e+f,o.push(f)}for(let p=s;p<r;++p){a+=t[p],c+=t[p]*t[p],u+=t[p],h+=t[p]*t[p],a-=t[p-s],c-=t[p-s]*t[p-s],u-=t[p-e],h-=t[p-e]*t[p-e];let r=Math.sqrt(h*i-u*i*(u*i))/Math.sqrt(c*l-a*l*(a*l));r!=r&&(r=0),r*=n,f=(t[p]-f)*r+f,o.push(f)}return o},volatility:vt,vosc:function(t,e,s,n=t.length){const r=[],o=1/e,i=1/s;let l=0,u=0;for(let n=0;n<s;++n)n>=s-e&&(l+=t[n]),u+=t[n];const h=l*o,a=u*i;r.push(100*(h-a)/a);for(let h=s;h<n;++h){l+=t[h],l-=t[h-e],u+=t[h],u-=t[h-s];const n=l*o,a=u*i;r.push(100*(n-a)/a)}return r},vwap:function(t,e,s,n,r,o=t.length){const i=[];let l=1-r,u=0,h=0,a=0;for(;a<o&&l<1;++a,++l)u+=(t[a]+e[a]+s[a])/3*n[a],h+=n[a];for(a>0&&1==l&&i.push(u/h);a<o;++a,++l)u+=(t[a]+e[a]+s[a])/3*n[a]-(t[a-r]+e[a-r]+s[a-r])/3*n[a-r],h+=n[a]-n[a-r],i.push(u/h);return i},vwma:xt,wad:mt,wcprice:function(t,e,s,n=t.length){const r=[];for(let o=0;o<n;++o)r.push(.25*(t[o]+e[o]+s[o]+s[o]));return r},wilders:gt,willr:zt,wma:Mt,zlema:bt},qt=wt._cvi,yt=wt.abands,kt=wt.ad,Nt=wt.adosc,_t=wt.adx,Ot=wt.adxr,At=wt.alma,Ut=wt.ao,jt=wt.apo,Tt=wt.aroon,Pt=wt.aroonosc,Bt=wt.atr,Ct=wt.avgprice,Dt=wt.bbands,Et=wt.bop,Ft=wt.cci,Gt=wt.ce,Ht=wt.cmf,It=wt.cmo,Jt=wt.copp,Kt=wt.crossany,Lt=wt.crossover,Qt=wt.crossOverNumber,Rt=wt.crossUnderNumber,St=wt.cvi,Vt=wt.dc,Wt=wt.decay,Xt=wt.dema,Yt=wt.di,Zt=wt.dm,$t=wt.dpo,te=wt.dx,ee=wt.edecay,se=wt.ema,ne=wt.emv,re=wt.fi,oe=wt.fisher,ie=wt.fosc,le=wt.hma,ue=wt.kama,he=wt.kc,ae=wt.kst,ce=wt.kvo,fe=wt.lag,pe=wt.linreg,de=wt.linregintercept,ve=wt.linregslope,xe=wt.macd,me=wt.marketfi,ge=wt.mass,ze=wt.max,Me=wt.md,be=wt.medprice,we=wt.mfi,qe=wt.min,ye=wt.mom,ke=wt.msw,Ne=wt.natr,_e=wt.normalize,Oe=wt.normalize2,Ae=wt.nvi,Ue=wt.obv,je=wt.pbands,Te=wt.pfe,Pe=wt.posc,Be=wt.ppo,Ce=wt.psar,De=wt.pvi,Ee=wt.qstick,Fe=wt.rmi,Ge=wt.rmta,He=wt.roc,Ie=wt.rocr,Je=wt.rsi,Ke=wt.rvi,Le=wt.sma,Qe=wt.smi,Re=wt.stddev,Se=wt.stderr,Ve=wt.stoch,We=wt.stochrsi,Xe=wt.sum,Ye=wt.tema,Ze=wt.tr,$e=wt.trima,ts=wt.trix,es=wt.tsf,ss=wt.tsi,ns=wt.typprice,rs=wt.ultosc,os=wt.varf,is=wt.vhf,ls=wt.vidya,us=wt.volatility,hs=wt.vosc,as=wt.vwap,cs=wt.vwma,fs=wt.wad,ps=wt.wcprice,ds=wt.wilders,vs=wt.willr,xs=wt.wma,ms=wt.zlema;t._cvi=qt,t.abands=yt,t.ad=kt,t.adosc=Nt,t.adx=_t,t.adxr=Ot,t.alma=At,t.ao=Ut,t.apo=jt,t.aroon=Tt,t.aroonosc=Pt,t.atr=Bt,t.avgprice=Ct,t.bbands=Dt,t.bop=Et,t.cci=Ft,t.ce=Gt,t.cmf=Ht,t.cmo=It,t.copp=Jt,t.crossOverNumber=Qt,t.crossUnderNumber=Rt,t.crossany=Kt,t.crossover=Lt,t.cvi=St,t.dc=Vt,t.decay=Wt,t.default=wt,t.dema=Xt,t.di=Yt,t.dm=Zt,t.dpo=$t,t.dx=te,t.edecay=ee,t.ema=se,t.emv=ne,t.fi=re,t.fisher=oe,t.fosc=ie,t.hma=le,t.kama=ue,t.kc=he,t.kst=ae,t.kvo=ce,t.lag=fe,t.linreg=pe,t.linregintercept=de,t.linregslope=ve,t.macd=xe,t.marketfi=me,t.mass=ge,t.max=ze,t.md=Me,t.medprice=be,t.mfi=we,t.min=qe,t.mom=ye,t.msw=ke,t.natr=Ne,t.normalize=_e,t.normalize2=Oe,t.nvi=Ae,t.obv=Ue,t.pbands=je,t.pfe=Te,t.posc=Pe,t.ppo=Be,t.psar=Ce,t.pvi=De,t.qstick=Ee,t.rmi=Fe,t.rmta=Ge,t.roc=He,t.rocr=Ie,t.rsi=Je,t.rvi=Ke,t.sma=Le,t.smi=Qe,t.stddev=Re,t.stderr=Se,t.stoch=Ve,t.stochrsi=We,t.sum=Xe,t.tema=Ye,t.tr=Ze,t.trima=$e,t.trix=ts,t.tsf=es,t.tsi=ss,t.typprice=ns,t.ultosc=rs,t.varf=os,t.vhf=is,t.vidya=ls,t.volatility=us,t.vosc=hs,t.vwap=as,t.vwma=cs,t.wad=fs,t.wcprice=ps,t.wilders=ds,t.willr=vs,t.wma=xs,t.zlema=ms,Object.defineProperty(t,"__esModule",{value:!0})}));
